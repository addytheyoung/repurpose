{"ast":null,"code":"var _jsxFileName = \"/Users/ayoung/repurpose/client/src/Shop.js\";\nimport React from \"react\";\nimport * as firebase from \"firebase\";\nimport HeaderBar from \"./HeaderBar\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport \"./css/Shop.css\";\nimport FilterBar from \"./FilterBar\";\nimport Art from \"./images/art.jpeg\";\nimport Close from \"./images/close.png\";\nexport default class Shop extends React.Component {\n  constructor(props) {\n    super(props);\n    var category = window.location.pathname.substring(6, window.location.pathname.length);\n    category = category[0].toUpperCase() + category.slice(1);\n    this.state = {\n      loaded: false,\n      items: [],\n      category: category,\n      minPrice: null,\n      maxPrice: null,\n      modal: null,\n      addingToCart: false\n    };\n    firebase.firestore().collection(\"Categories\").doc(category).collection(\"All\").get().then(items => {\n      const docs = items.docs;\n      const itemArr = [];\n\n      for (var i = 0; i < docs.length; i++) {\n        const data = docs[i].data();\n        itemArr.push(data);\n\n        if (i === docs.length - 1) {\n          this.setState({\n            items: itemArr,\n            loaded: true,\n            modal: null\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: \"45vw\",\n          top: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ClipLoader, {\n        size: 150,\n        color: \"#123abc\",\n        loading: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, this.state.modal && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\" // alignItems: \"center\"\n\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => this.closeModal(e),\n      style: {\n        backgroundColor: \"#000000\",\n        opacity: 0.5,\n        zIndex: 99,\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"absolute\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"50vw\",\n        borderRadius: 5,\n        height: \"80vh\",\n        top: 30,\n        backgroundColor: \"#f5f5f5\",\n        position: \"absolute\",\n        zIndex: 100,\n        opacity: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"close\",\n      onClick: () => this.closeModal(),\n      src: Close,\n      style: {\n        width: 20,\n        height: 20,\n        marginTop: 20,\n        marginRight: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Art,\n      style: {\n        width: 400,\n        height: 400\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginLeft: 20,\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, this.state.modal.pictures.map((pic, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Art,\n        style: {\n          width: 80,\n          height: 80,\n          marginLeft: 5,\n          marginRight: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 22,\n        fontWeight: 500,\n        marginTop: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }, this.state.modal.title), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 100,\n        fontWeight: 700,\n        fontSize: 24,\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 23\n      }\n    }, \"$\" + this.state.modal.original_price), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        // alignItems: \"center\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.addToCart(this.state.modal),\n      id: \"add-to-cart\",\n      style: {\n        backgroundColor: \"#9a487d\",\n        marginTop: 30,\n        borderRadius: 5,\n        padding: 10,\n        width: 150,\n        height: 40,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"#ffffff\",\n        fontWeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, !this.state.addingToCart && \"ADD TO CART\", this.state.addingToCart && \"Adding...\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: 20,\n        fontSize: 20,\n        marginTop: 20,\n        fontWeight: 600\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, \"Item Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10,\n        marginLeft: 20,\n        marginRight: 20,\n        borderTopColor: \"#a1a1a1\",\n        borderTopWidth: 1,\n        borderTopStyle: \"solid\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, this.state.modal.description))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(HeaderBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FilterBar, {\n      updateFilter: (a, b) => this.updateFilter(a, b),\n      type: this.state.category,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 20,\n        fontWeight: 600,\n        marginTop: 50,\n        width: \"100vw\",\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }, this.state.category), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginTop: 50,\n        marginLeft: 100,\n        marginRight: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }\n    }, this.state.items.map((item, index) => {\n      if (this.state.minPrice && item.original_price < this.state.minPrice || this.state.maxPrice && item.original_price > this.state.maxPrice) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.itemPage(item),\n        id: \"box\",\n        style: {\n          width: 220,\n          marginLeft: 10,\n          marginRight: 10,\n          height: 300 // borderWidth: 1,\n          // borderStyle: \"solid\"\n\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Art,\n        style: {\n          width: 220,\n          height: 200,\n          borderRadius: 5,\n          overflow: \"hidden\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          fontSize: 18,\n          fontWeight: 400\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }\n      }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: 5,\n          fontWeight: 600\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }\n      }, \"$\" + item.original_price)));\n    }))));\n  }\n\n  updateFilter(min, max) {\n    min = min.substring(1, min.length);\n    max = max.substring(1, max.length);\n    this.setState({\n      minPrice: min,\n      maxPrice: max\n    });\n  }\n\n  itemPage(item) {\n    this.setState({\n      modal: item\n    }); // window.open(\"http://localhost:3000/item/\" + uid, \"_self\");\n  }\n\n  closeModal(e) {\n    // e.stopPropagation();\n    this.setState({\n      modal: null\n    });\n  }\n\n  addToCart(item) {\n    console.log(item);\n    this.setState({\n      addingToCart: true\n    });\n    firebase.firestore().collection(\"Users\").doc(\"aty268\").get().then(me => {\n      const myCart = me.data().cart;\n      myCart.push(item);\n      firebase.firestore().collection(\"Users\").doc(\"aty268\").update({\n        cart: myCart\n      }).then(() => {\n        this.setState({\n          modal: null\n        });\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/ayoung/repurpose/client/src/Shop.js"],"names":["React","firebase","HeaderBar","ClipLoader","FilterBar","Art","Close","Shop","Component","constructor","props","category","window","location","pathname","substring","length","toUpperCase","slice","state","loaded","items","minPrice","maxPrice","modal","addingToCart","firestore","collection","doc","get","then","docs","itemArr","i","data","push","setState","render","position","left","top","loading","display","justifyContent","e","closeModal","backgroundColor","opacity","zIndex","width","height","borderRadius","flexDirection","marginTop","marginRight","marginLeft","pictures","map","pic","index","fontSize","fontWeight","title","textAlign","original_price","addToCart","padding","alignItems","color","borderTopColor","borderTopWidth","borderTopStyle","description","a","b","updateFilter","item","itemPage","overflow","min","max","console","log","me","myCart","cart","update"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as firebase from \"firebase\";\nimport HeaderBar from \"./HeaderBar\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport \"./css/Shop.css\";\nimport FilterBar from \"./FilterBar\";\nimport Art from \"./images/art.jpeg\";\nimport Close from \"./images/close.png\";\n\nexport default class Shop extends React.Component {\n  constructor(props) {\n    super(props);\n    var category = window.location.pathname.substring(\n      6,\n      window.location.pathname.length\n    );\n    category = category[0].toUpperCase() + category.slice(1);\n\n    this.state = {\n      loaded: false,\n      items: [],\n      category: category,\n      minPrice: null,\n      maxPrice: null,\n      modal: null,\n      addingToCart: false\n    };\n\n    firebase\n      .firestore()\n      .collection(\"Categories\")\n      .doc(category)\n      .collection(\"All\")\n      .get()\n      .then(items => {\n        const docs = items.docs;\n        const itemArr = [];\n        for (var i = 0; i < docs.length; i++) {\n          const data = docs[i].data();\n          itemArr.push(data);\n          if (i === docs.length - 1) {\n            this.setState({\n              items: itemArr,\n              loaded: true,\n              modal: null\n            });\n          }\n        }\n      });\n  }\n  render() {\n    if (!this.state.loaded) {\n      return (\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"45vw\",\n            top: 200\n          }}\n        >\n          <ClipLoader\n            size={150}\n            color={\"#123abc\"}\n            loading={this.state.loading}\n          />\n        </div>\n      );\n    }\n    return (\n      <div>\n        {this.state.modal && (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\"\n              // alignItems: \"center\"\n            }}\n          >\n            <div\n              onClick={e => this.closeModal(e)}\n              style={{\n                backgroundColor: \"#000000\",\n                opacity: 0.5,\n                zIndex: 99,\n                width: \"100vw\",\n                height: \"100vh\",\n                position: \"absolute\"\n              }}\n            ></div>\n            <div\n              style={{\n                width: \"50vw\",\n                borderRadius: 5,\n                height: \"80vh\",\n                top: 30,\n                backgroundColor: \"#f5f5f5\",\n                position: \"absolute\",\n                zIndex: 100,\n                opacity: 1\n              }}\n            >\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <div\n                  style={{\n                    width: \"100%\",\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\"\n                  }}\n                >\n                  <img\n                    id=\"close\"\n                    onClick={() => this.closeModal()}\n                    src={Close}\n                    style={{\n                      width: 20,\n                      height: 20,\n                      marginTop: 20,\n                      marginRight: 20\n                    }}\n                  />\n                </div>\n\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    <div style={{ marginLeft: 20 }}>\n                      <img src={Art} style={{ width: 400, height: 400 }}></img>\n                    </div>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        marginLeft: 20,\n                        marginTop: 10\n                      }}\n                    >\n                      {this.state.modal.pictures.map((pic, index) => {\n                        return (\n                          <div>\n                            <img\n                              src={Art}\n                              style={{\n                                width: 80,\n                                height: 80,\n                                marginLeft: 5,\n                                marginRight: 5\n                              }}\n                            ></img>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                  <div\n                    style={{\n                      width: \"100%\",\n                      display: \"flex\",\n                      justifyContent: \"center\"\n                    }}\n                  >\n                    <div\n                      style={{\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                      }}\n                    >\n                      <div\n                        style={{ fontSize: 22, fontWeight: 500, marginTop: 30 }}\n                      >\n                        {this.state.modal.title}\n                      </div>\n\n                      <div\n                        style={{\n                          marginTop: 100,\n                          fontWeight: 700,\n                          fontSize: 24,\n                          textAlign: \"center\"\n                        }}\n                      >\n                        {\"$\" + this.state.modal.original_price}\n                      </div>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                          // alignItems: \"center\",\n                          width: \"100%\",\n                          height: \"100%\"\n                        }}\n                      >\n                        <div\n                          onClick={() => this.addToCart(this.state.modal)}\n                          id=\"add-to-cart\"\n                          style={{\n                            backgroundColor: \"#9a487d\",\n                            marginTop: 30,\n                            borderRadius: 5,\n                            padding: 10,\n                            width: 150,\n                            height: 40,\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            color: \"#ffffff\",\n                            fontWeight: 500\n                          }}\n                        >\n                          {!this.state.addingToCart && \"ADD TO CART\"}\n                          {this.state.addingToCart && \"Adding...\"}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  style={{\n                    marginLeft: 20,\n                    fontSize: 20,\n                    marginTop: 20,\n                    fontWeight: 600\n                  }}\n                >\n                  Item Details\n                </div>\n                <div\n                  style={{\n                    marginTop: 10,\n                    marginLeft: 20,\n                    marginRight: 20,\n                    borderTopColor: \"#a1a1a1\",\n                    borderTopWidth: 1,\n                    borderTopStyle: \"solid\"\n                  }}\n                >\n                  <div style={{ marginTop: 5 }}>\n                    {this.state.modal.description}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div>\n          <HeaderBar />\n        </div>\n\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\"\n          }}\n        >\n          <FilterBar\n            updateFilter={(a, b) => this.updateFilter(a, b)}\n            type={this.state.category}\n          />\n\n          <div\n            style={{\n              fontSize: 20,\n              fontWeight: 600,\n              marginTop: 50,\n              width: \"100vw\",\n              textAlign: \"center\"\n            }}\n          >\n            {this.state.category}\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              marginTop: 50,\n              marginLeft: 100,\n              marginRight: 100\n            }}\n          >\n            {this.state.items.map((item, index) => {\n              if (\n                (this.state.minPrice &&\n                  item.original_price < this.state.minPrice) ||\n                (this.state.maxPrice &&\n                  item.original_price > this.state.maxPrice)\n              ) {\n                return null;\n              }\n              return (\n                <div\n                  onClick={() => this.itemPage(item)}\n                  id=\"box\"\n                  style={{\n                    width: 220,\n                    marginLeft: 10,\n                    marginRight: 10,\n                    height: 300\n\n                    // borderWidth: 1,\n                    // borderStyle: \"solid\"\n                  }}\n                >\n                  <img\n                    src={Art}\n                    style={{\n                      width: 220,\n                      height: 200,\n                      borderRadius: 5,\n                      overflow: \"hidden\"\n                    }}\n                  ></img>\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    <div style={{ fontSize: 18, fontWeight: 400 }}>\n                      {item.title}\n                    </div>\n                    <div style={{ marginTop: 5, fontWeight: 600 }}>\n                      {\"$\" + item.original_price}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  updateFilter(min, max) {\n    min = min.substring(1, min.length);\n    max = max.substring(1, max.length);\n    this.setState({\n      minPrice: min,\n      maxPrice: max\n    });\n  }\n\n  itemPage(item) {\n    this.setState({\n      modal: item\n    });\n    // window.open(\"http://localhost:3000/item/\" + uid, \"_self\");\n  }\n\n  closeModal(e) {\n    // e.stopPropagation();\n    this.setState({\n      modal: null\n    });\n  }\n\n  addToCart(item) {\n    console.log(item);\n    this.setState({\n      addingToCart: true\n    });\n\n    firebase\n      .firestore()\n      .collection(\"Users\")\n      .doc(\"aty268\")\n      .get()\n      .then(me => {\n        const myCart = me.data().cart;\n        myCart.push(item);\n        firebase\n          .firestore()\n          .collection(\"Users\")\n          .doc(\"aty268\")\n          .update({\n            cart: myCart\n          })\n          .then(() => {\n            this.setState({\n              modal: null\n            });\n          });\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}