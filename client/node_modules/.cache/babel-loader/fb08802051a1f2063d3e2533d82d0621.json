{"ast":null,"code":"var _jsxFileName = \"/Users/ayoung/repurpose/src/Cart.js\";\nimport React from \"react\";\nimport HeaderBar from \"./HeaderBar\";\nimport * as firebase from \"firebase\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport Art from \"./images/art.jpeg\";\nimport Close from \"./images/close.png\";\nimport Bin from \"./images/bin.png\";\nimport \"./css/Cart.css\";\nexport default class Cart extends React.Component {\n  constructor(props) {\n    super(props);\n    firebase.firestore().collection(\"Users\").doc(\"aty268\").get().then(me => {\n      const myData = me.data();\n      this.setState({\n        loaded: true,\n        myData: myData\n      });\n    });\n    this.state = {\n      loaded: false,\n      myData: [],\n      modal: false\n    };\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: \"45vw\",\n          top: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ClipLoader, {\n        size: 150,\n        color: \"#123abc\",\n        loading: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    const subTotal = this.getSubtotal(this.state.myData.cart);\n    const tax = this.getTax(subTotal);\n    const shipping = this.getShipping(subTotal);\n    const total = parseInt((parseInt(subTotal) + tax + shipping) * 100) / 100;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, this.state.modal && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\" // alignItems: \"center\"\n\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => this.closeModal(e),\n      style: {\n        backgroundColor: \"#000000\",\n        opacity: 0.5,\n        zIndex: 99,\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"absolute\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"50vw\",\n        borderRadius: 5,\n        height: \"80vh\",\n        top: 30,\n        backgroundColor: \"#f5f5f5\",\n        position: \"absolute\",\n        zIndex: 100,\n        opacity: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"close\",\n      onClick: () => this.closeModal(),\n      src: Close,\n      style: {\n        width: 20,\n        height: 20,\n        marginTop: 20,\n        marginRight: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Art,\n      style: {\n        width: 400,\n        height: 400\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginLeft: 20,\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, this.state.modal.pictures.map((pic, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Art,\n        style: {\n          width: 80,\n          height: 80,\n          marginLeft: 5,\n          marginRight: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 29\n        }\n      }));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 22,\n        fontWeight: 500,\n        marginTop: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, this.state.modal.title), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 30,\n        fontWeight: 700,\n        fontSize: 24,\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 23\n      }\n    }, \"$\" + this.state.modal.original_price), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        // alignItems: \"center\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 23\n      }\n    }, \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: 20,\n        fontSize: 20,\n        marginTop: 20,\n        fontWeight: 600\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, \"Item Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10,\n        marginLeft: 20,\n        marginRight: 20,\n        borderTopColor: \"#a1a1a1\",\n        borderTopWidth: 1,\n        borderTopStyle: \"solid\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }, this.state.modal.description))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(HeaderBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginLeft: \"5vw\",\n        marginRight: \"5vw\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"40vw\" //   borderWidth: 1,\n        //   borderStyle: \"solid\"\n\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderBottomColor: \"#a1a1a1\",\n        borderBottomStyle: \"solid\",\n        borderBottomWidth: 1,\n        paddingBottom: 10,\n        marginBottom: 10,\n        fontSize: 20,\n        fontWeight: 600,\n        marginTop: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, \"Shopping Cart\"), this.state.myData.cart.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 24,\n        fontWeight: 600,\n        marginTop: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, \"Cart is empty!\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      id: \"shop\",\n      style: {\n        backgroundColor: \"#a1a1a1\",\n        textDecoration: \"none\",\n        color: \"white\",\n        width: 120,\n        marginTop: 30,\n        height: 30,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderRadius: 5,\n        padding: 10,\n        fontWeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, \"SHOP NOW\")), this.state.myData.cart.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          height: 200,\n          display: \"flex\",\n          flexDirection: \"row\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.itemModal(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        id: \"box\",\n        style: {\n          width: 150,\n          height: 180,\n          borderRadius: 5,\n          overflow: \"hidden\"\n        },\n        src: Art,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 19\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }\n      }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }\n      }, \"$\" + item.original_price)), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.removeFromCart(item, this.state.myData),\n        id: \"bin\",\n        style: {\n          marginLeft: 50,\n          width: 35,\n          height: 35\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Bin,\n        style: {\n          width: 30,\n          height: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }\n      })));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"50vw\",\n        marginLeft: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderBottomColor: \"#a1a1a1\",\n        borderBottomStyle: \"solid\",\n        borderBottomWidth: 1,\n        paddingBottom: 10,\n        marginBottom: 10,\n        fontSize: 20,\n        fontWeight: 600,\n        marginTop: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }\n    }, \"Order Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        fontSize: 18,\n        fontWeight: 500,\n        alignItems: \"center\",\n        width: \"30vw\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 15\n      }\n    }, \"Subtotal\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 15\n      }\n    }, \"$\" + subTotal)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        fontSize: 18,\n        fontWeight: 500,\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"30vw\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 15\n      }\n    }, \"Tax\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 15\n      }\n    }, \"$\" + tax)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        fontSize: 18,\n        fontWeight: 500,\n        alignItems: \"center\",\n        width: \"30vw\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 15\n      }\n    }, \"Shipping\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 15\n      }\n    }, \"$\" + shipping)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 20,\n        display: \"flex\",\n        flexDirection: \"row\",\n        fontSize: 18,\n        fontWeight: 600,\n        alignItems: \"center\",\n        width: \"30vw\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 15\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 15\n      }\n    }, \"$\" + total)), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/checkout\",\n      id: \"checkout\",\n      style: {\n        marginTop: 40,\n        backgroundColor: \"#a1a1a1\",\n        textDecoration: \"none\",\n        color: \"white\",\n        width: 120,\n        marginTop: 30,\n        height: 30,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderRadius: 5,\n        padding: 10,\n        fontWeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 13\n      }\n    }, \"CHECK OUT\"))));\n  }\n\n  itemModal(item) {\n    this.setState({\n      modal: item\n    });\n  }\n\n  closeModal(e) {\n    // e.stopPropagation();\n    this.setState({\n      modal: null\n    });\n  }\n\n  removeFromCart(item, myData) {\n    const newData = myData.cart;\n\n    for (var i = 0; i < myData.cart.length; i++) {\n      if (item.uid == myData.cart[i].uid) {\n        // Remove that item\n        newData.splice(i, 1);\n        break;\n      }\n    }\n\n    firebase.firestore().collection(\"Users\").doc(\"aty268\").update({\n      cart: newData\n    }).then(() => {\n      window.location.reload();\n    });\n  }\n\n  getSubtotal(cart) {\n    var totalPrice = 0;\n\n    for (var i = 0; i < cart.length; i++) {\n      const price = cart[i].original_price;\n      totalPrice += price;\n    }\n\n    return (totalPrice / 100 * 100).toFixed(2);\n  }\n\n  getTax(price) {\n    return parseInt(price * 0.08 * 100) / 100;\n  }\n\n  getShipping(price) {\n    return 3.12;\n  }\n\n}","map":{"version":3,"sources":["/Users/ayoung/repurpose/src/Cart.js"],"names":["React","HeaderBar","firebase","ClipLoader","Art","Close","Bin","Cart","Component","constructor","props","firestore","collection","doc","get","then","me","myData","data","setState","loaded","state","modal","render","position","left","top","loading","subTotal","getSubtotal","cart","tax","getTax","shipping","getShipping","total","parseInt","display","justifyContent","e","closeModal","backgroundColor","opacity","zIndex","width","height","borderRadius","flexDirection","marginTop","marginRight","marginLeft","pictures","map","pic","index","fontSize","fontWeight","title","textAlign","original_price","borderTopColor","borderTopWidth","borderTopStyle","description","borderBottomColor","borderBottomStyle","borderBottomWidth","paddingBottom","marginBottom","length","textDecoration","color","alignItems","padding","item","itemModal","overflow","removeFromCart","newData","i","uid","splice","update","window","location","reload","totalPrice","price","toFixed"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport HeaderBar from \"./HeaderBar\";\nimport * as firebase from \"firebase\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport Art from \"./images/art.jpeg\";\nimport Close from \"./images/close.png\";\nimport Bin from \"./images/bin.png\";\nimport \"./css/Cart.css\";\n\nexport default class Cart extends React.Component {\n  constructor(props) {\n    super(props);\n    firebase\n      .firestore()\n      .collection(\"Users\")\n      .doc(\"aty268\")\n      .get()\n      .then(me => {\n        const myData = me.data();\n        this.setState({\n          loaded: true,\n          myData: myData\n        });\n      });\n    this.state = {\n      loaded: false,\n      myData: [],\n      modal: false\n    };\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return (\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"45vw\",\n            top: 200\n          }}\n        >\n          <ClipLoader\n            size={150}\n            color={\"#123abc\"}\n            loading={this.state.loading}\n          />\n        </div>\n      );\n    }\n    const subTotal = this.getSubtotal(this.state.myData.cart);\n    const tax = this.getTax(subTotal);\n    const shipping = this.getShipping(subTotal);\n    const total = parseInt((parseInt(subTotal) + tax + shipping) * 100) / 100;\n    return (\n      <div>\n        {this.state.modal && (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\"\n              // alignItems: \"center\"\n            }}\n          >\n            <div\n              onClick={e => this.closeModal(e)}\n              style={{\n                backgroundColor: \"#000000\",\n                opacity: 0.5,\n                zIndex: 99,\n                width: \"100vw\",\n                height: \"100vh\",\n                position: \"absolute\"\n              }}\n            ></div>\n            <div\n              style={{\n                width: \"50vw\",\n                borderRadius: 5,\n                height: \"80vh\",\n                top: 30,\n                backgroundColor: \"#f5f5f5\",\n                position: \"absolute\",\n                zIndex: 100,\n                opacity: 1\n              }}\n            >\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <div\n                  style={{\n                    width: \"100%\",\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\"\n                  }}\n                >\n                  <img\n                    id=\"close\"\n                    onClick={() => this.closeModal()}\n                    src={Close}\n                    style={{\n                      width: 20,\n                      height: 20,\n                      marginTop: 20,\n                      marginRight: 20\n                    }}\n                  />\n                </div>\n\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    <div style={{ marginLeft: 20 }}>\n                      <img src={Art} style={{ width: 400, height: 400 }}></img>\n                    </div>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        marginLeft: 20,\n                        marginTop: 10\n                      }}\n                    >\n                      {this.state.modal.pictures.map((pic, index) => {\n                        return (\n                          <div>\n                            <img\n                              src={Art}\n                              style={{\n                                width: 80,\n                                height: 80,\n                                marginLeft: 5,\n                                marginRight: 5\n                              }}\n                            ></img>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                  <div\n                    style={{\n                      width: \"100%\",\n                      display: \"flex\",\n                      justifyContent: \"center\"\n                    }}\n                  >\n                    <div\n                      style={{\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                      }}\n                    >\n                      <div\n                        style={{ fontSize: 22, fontWeight: 500, marginTop: 30 }}\n                      >\n                        {this.state.modal.title}\n                      </div>\n\n                      <div\n                        style={{\n                          marginTop: 30,\n                          fontWeight: 700,\n                          fontSize: 24,\n                          textAlign: \"center\"\n                        }}\n                      >\n                        {\"$\" + this.state.modal.original_price}\n                      </div>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                          // alignItems: \"center\",\n                          width: \"100%\",\n                          height: \"100%\"\n                        }}\n                      >\n                        {\" \"}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  style={{\n                    marginLeft: 20,\n                    fontSize: 20,\n                    marginTop: 20,\n                    fontWeight: 600\n                  }}\n                >\n                  Item Details\n                </div>\n                <div\n                  style={{\n                    marginTop: 10,\n                    marginLeft: 20,\n                    marginRight: 20,\n                    borderTopColor: \"#a1a1a1\",\n                    borderTopWidth: 1,\n                    borderTopStyle: \"solid\"\n                  }}\n                >\n                  <div style={{ marginTop: 5 }}>\n                    {this.state.modal.description}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div>\n          <HeaderBar />\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            marginLeft: \"5vw\",\n            marginRight: \"5vw\"\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: \"40vw\"\n              //   borderWidth: 1,\n              //   borderStyle: \"solid\"\n            }}\n          >\n            <div\n              style={{\n                borderBottomColor: \"#a1a1a1\",\n                borderBottomStyle: \"solid\",\n                borderBottomWidth: 1,\n                paddingBottom: 10,\n                marginBottom: 10,\n                fontSize: 20,\n                fontWeight: 600,\n                marginTop: 30\n              }}\n            >\n              Shopping Cart\n            </div>\n            {this.state.myData.cart.length === 0 && (\n              <div>\n                <div style={{ fontSize: 24, fontWeight: 600, marginTop: 50 }}>\n                  Cart is empty!\n                </div>\n                <a\n                  href=\"/\"\n                  id=\"shop\"\n                  style={{\n                    backgroundColor: \"#a1a1a1\",\n                    textDecoration: \"none\",\n                    color: \"white\",\n                    width: 120,\n                    marginTop: 30,\n                    height: 30,\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    borderRadius: 5,\n                    padding: 10,\n                    fontWeight: 500\n                  }}\n                >\n                  SHOP NOW\n                </a>\n              </div>\n            )}\n            {this.state.myData.cart.map((item, index) => {\n              return (\n                <div\n                  style={{\n                    width: \"100%\",\n                    height: 200,\n                    display: \"flex\",\n                    flexDirection: \"row\"\n                  }}\n                >\n                  <div onClick={() => this.itemModal(item)}>\n                    <img\n                      id=\"box\"\n                      style={{\n                        width: 150,\n                        height: 180,\n                        borderRadius: 5,\n                        overflow: \"hidden\"\n                      }}\n                      src={Art}\n                    ></img>\n                  </div>\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    {\" \"}\n                    <div>{item.title}</div>\n                    <div>{\"$\" + item.original_price}</div>\n                  </div>\n                  <div\n                    onClick={() => this.removeFromCart(item, this.state.myData)}\n                    id=\"bin\"\n                    style={{ marginLeft: 50, width: 35, height: 35 }}\n                  >\n                    <img src={Bin} style={{ width: 30, height: 30 }}></img>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: \"50vw\",\n              marginLeft: 20\n            }}\n          >\n            <div\n              style={{\n                borderBottomColor: \"#a1a1a1\",\n                borderBottomStyle: \"solid\",\n                borderBottomWidth: 1,\n                paddingBottom: 10,\n                marginBottom: 10,\n                fontSize: 20,\n                fontWeight: 600,\n                marginTop: 30\n              }}\n            >\n              Order Summary\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                fontSize: 18,\n                fontWeight: 500,\n                alignItems: \"center\",\n                width: \"30vw\",\n                justifyContent: \"space-between\"\n              }}\n            >\n              <div>Subtotal</div>\n              <div>{\"$\" + subTotal}</div>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                fontSize: 18,\n                fontWeight: 500,\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                width: \"30vw\",\n                justifyContent: \"space-between\"\n              }}\n            >\n              <div>Tax</div>\n              <div>{\"$\" + tax}</div>\n            </div>\n\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                fontSize: 18,\n                fontWeight: 500,\n                alignItems: \"center\",\n                width: \"30vw\",\n                justifyContent: \"space-between\"\n              }}\n            >\n              <div>Shipping</div>\n              <div>{\"$\" + shipping}</div>\n            </div>\n            <div\n              style={{\n                marginTop: 20,\n                display: \"flex\",\n                flexDirection: \"row\",\n                fontSize: 18,\n                fontWeight: 600,\n                alignItems: \"center\",\n                width: \"30vw\",\n                justifyContent: \"space-between\"\n              }}\n            >\n              <div>Total</div>\n              <div>{\"$\" + total}</div>\n            </div>\n\n            <a\n              href=\"/checkout\"\n              id=\"checkout\"\n              style={{\n                marginTop: 40,\n                backgroundColor: \"#a1a1a1\",\n                textDecoration: \"none\",\n                color: \"white\",\n                width: 120,\n                marginTop: 30,\n                height: 30,\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                borderRadius: 5,\n                padding: 10,\n                fontWeight: 500\n              }}\n            >\n              CHECK OUT\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  itemModal(item) {\n    this.setState({\n      modal: item\n    });\n  }\n\n  closeModal(e) {\n    // e.stopPropagation();\n    this.setState({\n      modal: null\n    });\n  }\n\n  removeFromCart(item, myData) {\n    const newData = myData.cart;\n    for (var i = 0; i < myData.cart.length; i++) {\n      if (item.uid == myData.cart[i].uid) {\n        // Remove that item\n        newData.splice(i, 1);\n        break;\n      }\n    }\n    firebase\n      .firestore()\n      .collection(\"Users\")\n      .doc(\"aty268\")\n      .update({\n        cart: newData\n      })\n      .then(() => {\n        window.location.reload();\n      });\n  }\n\n  getSubtotal(cart) {\n    var totalPrice = 0;\n    for (var i = 0; i < cart.length; i++) {\n      const price = cart[i].original_price;\n      totalPrice += price;\n    }\n    return ((totalPrice / 100) * 100).toFixed(2);\n  }\n\n  getTax(price) {\n    return parseInt(price * 0.08 * 100) / 100;\n  }\n\n  getShipping(price) {\n    return 3.12;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}